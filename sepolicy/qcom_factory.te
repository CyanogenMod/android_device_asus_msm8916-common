type qcom_factory, domain;
type qcom_factory_exec, exec_type, file_type;

init_daemon_domain(qcom_factory)

# Allow copying files from /factory/ to /persist
allow qcom_factory fac_file:file r_file_perms;
allow qcom_factory persist_file:dir ra_dir_perms;
allow qcom_factory persist_file:file create_file_perms;

# Allow using 'cp' command
allow qcom_factory shell_exec:file read;

allow qcom_factory self:capability dac_override;
